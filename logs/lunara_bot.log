2025-09-01 18:00:40,226 - slip_manager - INFO - Connecting to Redis at rediss://***:***@measured-whale-51756.upstash.io:6379
2025-09-01 18:01:26,852 - __main__ - INFO - Starting bot with market monitor and AI trade monitor jobs scheduled...
2025-09-01 18:01:26,853 - __main__ - INFO - Starting bot polling...
2025-09-01 18:01:27,980 - __main__ - INFO - Running post-initialization setup...
2025-09-01 18:01:27,980 - __main__ - INFO - Attempting to delete any pre-existing webhook...
2025-09-01 18:01:28,189 - __main__ - INFO - Webhook deleted successfully.
2025-09-01 18:01:28,190 - __main__ - INFO - Starting Redis pub/sub listener for real-time toggles...
2025-09-01 18:01:28,811 - __main__ - INFO - Subscribed to autotrade:notify channel for instant toggles.
2025-09-01 18:01:28,891 - telegram.ext.Application - INFO - Application started
2025-09-01 18:01:36,733 - tradebot - INFO - Running scheduled_monitoring_job...
2025-09-01 18:01:36,734 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\trade.py", line 1779, in scheduled_monitoring_job
    user_id = config.ADMIN_USER_ID  # Assuming monitoring is for the admin user
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:01:36,907 - src.autotrade_jobs - INFO - Starting autotrade cycle...
2025-09-01 18:01:36,907 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:01:37,459 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,463 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,465 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,487 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,495 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,500 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,504 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,508 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,513 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,517 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,523 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,528 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:01:37,531 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 141, in autotrade_cycle
    user_id = config.ADMIN_USER_ID
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:01:57,856 - __main__ - INFO - HEARTBEAT: redis_ping=True promotion_retry_pending=0
2025-09-01 18:01:57,876 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
TypeError: object NoneType can't be used in 'await' expression
2025-09-01 18:02:36,855 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:02:37,061 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,063 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,065 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,068 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,071 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,073 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,075 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,078 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,082 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,089 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,092 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:02:37,098 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:27,162 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<_redis_pubsub_listener() running at G:\Lunara Bot\src\main.py:3252> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-09-01 18:03:36,857 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:03:37,021 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,023 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,025 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,028 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,030 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,032 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,034 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,036 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,042 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,046 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,049 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:03:37,053 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:36,863 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:04:37,035 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,038 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,040 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,043 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,051 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,055 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,058 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,073 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,077 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,087 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,091 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:04:37,093 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:36,859 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:05:37,022 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,024 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,026 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,029 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,033 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,036 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,038 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,040 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,043 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,046 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,053 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:05:37,055 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:36,864 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:06:37,027 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,030 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,031 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,033 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,035 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,042 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,044 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,046 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,048 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,052 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,055 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:37,057 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:06:57,720 - __main__ - INFO - HEARTBEAT: redis_ping=True promotion_retry_pending=0
2025-09-01 18:06:57,759 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
TypeError: object NoneType can't be used in 'await' expression
2025-09-01 18:07:36,863 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:07:37,026 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,030 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,035 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,037 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,039 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,043 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,059 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,068 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,072 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,075 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,079 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:37,089 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:07:46,827 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-09-01 18:07:46,975 - telegram.ext.Application - INFO - Application.stop() complete
2025-09-01 18:09:13,829 - slip_manager - INFO - Connecting to Redis at rediss://***:***@measured-whale-51756.upstash.io:6379
2025-09-01 18:09:26,731 - __main__ - INFO - Starting bot with market monitor and AI trade monitor jobs scheduled...
2025-09-01 18:09:26,731 - __main__ - INFO - Starting bot polling...
2025-09-01 18:09:27,625 - __main__ - INFO - Running post-initialization setup...
2025-09-01 18:09:27,626 - __main__ - INFO - Attempting to delete any pre-existing webhook...
2025-09-01 18:09:27,822 - __main__ - INFO - Webhook deleted successfully.
2025-09-01 18:09:27,822 - __main__ - INFO - Starting Redis pub/sub listener for real-time toggles...
2025-09-01 18:09:28,220 - __main__ - INFO - Subscribed to autotrade:notify channel for instant toggles.
2025-09-01 18:09:28,470 - telegram.ext.Application - INFO - Application started
2025-09-01 18:09:36,691 - tradebot - INFO - Running scheduled_monitoring_job...
2025-09-01 18:09:36,691 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\trade.py", line 1779, in scheduled_monitoring_job
    user_id = config.ADMIN_USER_ID  # Assuming monitoring is for the admin user
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:09:36,732 - src.autotrade_jobs - INFO - Starting autotrade cycle...
2025-09-01 18:09:36,732 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:09:37,271 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,273 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,276 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,279 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,283 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,291 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,293 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,300 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,303 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,305 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,309 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,311 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:09:37,317 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 141, in autotrade_cycle
    user_id = config.ADMIN_USER_ID
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:09:58,010 - __main__ - INFO - HEARTBEAT: redis_ping=True promotion_retry_pending=0
2025-09-01 18:09:58,033 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
TypeError: object NoneType can't be used in 'await' expression
2025-09-01 18:10:36,732 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:10:36,898 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,901 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,904 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,907 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,910 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,916 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,921 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,929 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,937 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,945 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,952 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:10:36,958 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:27,142 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<_redis_pubsub_listener() running at G:\Lunara Bot\src\main.py:3252> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-09-01 18:11:36,732 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:11:36,899 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,904 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,910 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,915 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,923 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,930 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,941 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,946 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,953 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,959 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,962 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:11:36,970 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:36,749 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:12:36,952 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:36,957 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,005 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,059 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,110 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,149 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,207 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,209 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,218 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,224 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,229 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:12:37,243 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:13:28,580 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-09-01 18:13:28,598 - telegram.ext.Application - INFO - Application.stop() complete
2025-09-01 18:20:59,807 - slip_manager - INFO - Connecting to Redis at rediss://***:***@measured-whale-51756.upstash.io:6379
2025-09-01 18:21:09,898 - __main__ - INFO - Starting bot with market monitor and AI trade monitor jobs scheduled...
2025-09-01 18:21:09,898 - __main__ - INFO - Starting bot polling...
2025-09-01 18:21:10,696 - __main__ - INFO - Running post-initialization setup...
2025-09-01 18:21:10,696 - __main__ - INFO - Attempting to delete any pre-existing webhook...
2025-09-01 18:21:10,895 - __main__ - INFO - Webhook deleted successfully.
2025-09-01 18:21:10,895 - __main__ - INFO - Starting Redis pub/sub listener for real-time toggles...
2025-09-01 18:21:11,268 - __main__ - INFO - Subscribed to autotrade:notify channel for instant toggles.
2025-09-01 18:21:11,519 - telegram.ext.Application - INFO - Application started
2025-09-01 18:21:19,876 - tradebot - INFO - Running scheduled_monitoring_job...
2025-09-01 18:21:19,877 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\trade.py", line 1779, in scheduled_monitoring_job
    user_id = config.ADMIN_USER_ID  # Assuming monitoring is for the admin user
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:21:19,908 - src.autotrade_jobs - INFO - Starting autotrade cycle...
2025-09-01 18:21:19,909 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:21:20,460 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,463 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,465 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,468 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,470 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,473 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,477 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,480 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,484 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,490 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,493 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,510 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:21:20,512 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 141, in autotrade_cycle
    user_id = config.ADMIN_USER_ID
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:21:41,045 - __main__ - INFO - HEARTBEAT: redis_ping=True promotion_retry_pending=0
2025-09-01 18:21:41,067 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
TypeError: object NoneType can't be used in 'await' expression
2025-09-01 18:22:19,901 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:22:20,073 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,076 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,080 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,083 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,089 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,093 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,095 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,100 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,107 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,111 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,114 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:20,121 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:22:29,109 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-09-01 18:22:29,133 - telegram.ext.Application - INFO - Application.stop() complete
2025-09-01 18:22:29,203 - __main__ - CRITICAL - Redis pubsub listener terminated unexpectedly: no running event loop
Traceback (most recent call last):
  File "G:\Lunara Bot\src\main.py", line 3256, in _redis_pubsub_listener
    async for message in pubsub.listen():
    ...<9 lines>...
            logger.error(f"Error processing pubsub message: {e}")
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "G:\Lunara Bot\src\main.py", line 3252, in _redis_pubsub_listener
    async with rc.pubsub(ignore_subscribe_messages=True) as pubsub:
               ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\redis\asyncio\client.py", line 862, in __aexit__
    await self.aclose()
  File "G:\Pycharm soft\Lib\site-packages\redis\asyncio\client.py", line 876, in aclose
    await self.connection.disconnect()
  File "G:\Pycharm soft\Lib\site-packages\redis\asyncio\connection.py", line 469, in disconnect
    async with async_timeout(self.socket_connect_timeout):
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\asyncio\timeouts.py", line 161, in timeout
    loop = events.get_running_loop()
RuntimeError: no running event loop
2025-09-01 18:22:29,802 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<_redis_pubsub_listener() done, defined at G:\Lunara Bot\src\main.py:3236> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-09-01 18:26:47,390 - slip_manager - INFO - Connecting to Redis at rediss://***:***@measured-whale-51756.upstash.io:6379
2025-09-01 18:27:00,547 - __main__ - INFO - Starting bot with market monitor and AI trade monitor jobs scheduled...
2025-09-01 18:27:00,548 - __main__ - INFO - Starting bot polling...
2025-09-01 18:27:01,576 - __main__ - INFO - Running post-initialization setup...
2025-09-01 18:27:01,576 - __main__ - INFO - Attempting to delete any pre-existing webhook...
2025-09-01 18:27:01,770 - __main__ - INFO - Webhook deleted successfully.
2025-09-01 18:27:01,771 - __main__ - INFO - Starting Redis pub/sub listener for real-time toggles...
2025-09-01 18:27:02,207 - __main__ - INFO - Subscribed to autotrade:notify channel for instant toggles.
2025-09-01 18:27:02,392 - telegram.ext.Application - INFO - Application started
2025-09-01 18:27:10,472 - tradebot - INFO - Running scheduled_monitoring_job...
2025-09-01 18:27:10,473 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\trade.py", line 1779, in scheduled_monitoring_job
    user_id = config.ADMIN_USER_ID  # Assuming monitoring is for the admin user
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:27:10,554 - src.autotrade_jobs - INFO - Starting autotrade cycle...
2025-09-01 18:27:10,556 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:27:11,076 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,079 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,082 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,087 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,093 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,097 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,099 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,106 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,112 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,115 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,121 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,127 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:27:11,130 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 141, in autotrade_cycle
    user_id = config.ADMIN_USER_ID
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:27:31,552 - __main__ - INFO - HEARTBEAT: redis_ping=True promotion_retry_pending=0
2025-09-01 18:27:31,554 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
TypeError: object NoneType can't be used in 'await' expression
2025-09-01 18:28:10,562 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:28:10,730 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556374179: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,733 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376303: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,737 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756556376954: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,739 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557608418: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,741 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=1756557610317: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,745 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=49: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,748 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=51: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,754 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=52: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,759 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=54: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,761 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=55: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,764 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=58: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:10,771 - src.autotrade_jobs - ERROR - Error monitoring autotrade for trade_id=59: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
Traceback (most recent call last):
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 495, in monitor_autotrades
    val = slip_manager.get_and_decrypt_slip(
        kk.encode()
        if isinstance(raw_keys[0], (bytes, bytearray))
        else kk
    )
  File "G:\Lunara Bot\src\slip_manager.py", line 117, in get_and_decrypt_slip
    fernet = get_fernet()
  File "G:\Lunara Bot\src\slip_manager.py", line 66, in get_fernet
    raise ValueError(
        "No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env."
    )
ValueError: No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.

2025-09-01 18:28:14,628 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-09-01 18:28:14,645 - telegram.ext.Application - INFO - Application.stop() complete
2025-09-01 18:28:14,726 - __main__ - CRITICAL - Redis pubsub listener terminated unexpectedly: no running event loop
Traceback (most recent call last):
  File "G:\Lunara Bot\src\main.py", line 3269, in _redis_pubsub_listener
    async for message in pubsub.listen():
    ...<9 lines>...
            logger.error(f"Error processing pubsub message: {e}")
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "G:\Lunara Bot\src\main.py", line 3265, in _redis_pubsub_listener
    async with rc.pubsub(ignore_subscribe_messages=True) as pubsub:
               ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\redis\asyncio\client.py", line 862, in __aexit__
    await self.aclose()
  File "G:\Pycharm soft\Lib\site-packages\redis\asyncio\client.py", line 876, in aclose
    await self.connection.disconnect()
  File "G:\Pycharm soft\Lib\site-packages\redis\asyncio\connection.py", line 469, in disconnect
    async with async_timeout(self.socket_connect_timeout):
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\asyncio\timeouts.py", line 161, in timeout
    loop = events.get_running_loop()
RuntimeError: no running event loop
2025-09-01 18:28:14,809 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<_redis_pubsub_listener() done, defined at G:\Lunara Bot\src\main.py:3249> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-09-01 18:37:23,054 - slip_manager - INFO - Connecting to Redis at rediss://***:***@measured-whale-51756.upstash.io:6379
2025-09-01 18:37:33,844 - __main__ - INFO - Starting bot with market monitor and AI trade monitor jobs scheduled...
2025-09-01 18:37:33,845 - __main__ - INFO - Starting bot polling...
2025-09-01 18:37:34,720 - __main__ - INFO - Running post-initialization setup...
2025-09-01 18:37:34,722 - __main__ - INFO - Attempting to delete any pre-existing webhook...
2025-09-01 18:37:34,922 - __main__ - INFO - Webhook deleted successfully.
2025-09-01 18:37:34,923 - __main__ - INFO - Starting Redis pub/sub listener for real-time toggles...
2025-09-01 18:37:35,304 - __main__ - INFO - Subscribed to autotrade:notify channel for instant toggles.
2025-09-01 18:37:35,579 - telegram.ext.Application - INFO - Application started
2025-09-01 18:37:43,805 - tradebot - INFO - Running scheduled_monitoring_job...
2025-09-01 18:37:43,806 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\trade.py", line 1779, in scheduled_monitoring_job
    user_id = config.ADMIN_USER_ID  # Assuming monitoring is for the admin user
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:37:43,863 - src.autotrade_jobs - INFO - Starting autotrade cycle...
2025-09-01 18:37:43,863 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:37:44,404 - slip_manager - WARNING - No encryption key configured. Set SLIP_ENCRYPTION_KEY or BINANCE_ENCRYPTION_KEY in env.
2025-09-01 18:37:44,405 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756556374179: None
2025-09-01 18:37:44,406 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756556374179: None
2025-09-01 18:37:44,406 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756556376303: None
2025-09-01 18:37:44,407 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756556376303: None
2025-09-01 18:37:44,407 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756556376954: None
2025-09-01 18:37:44,407 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756556376954: None
2025-09-01 18:37:44,408 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756557608418: None
2025-09-01 18:37:44,408 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756557608418: None
2025-09-01 18:37:44,408 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756557610317: None
2025-09-01 18:37:44,409 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756557610317: None
2025-09-01 18:37:44,409 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=49: None
2025-09-01 18:37:44,409 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=49: None
2025-09-01 18:37:44,410 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=51: None
2025-09-01 18:37:44,410 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=51: None
2025-09-01 18:37:44,411 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=52: None
2025-09-01 18:37:44,411 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=52: None
2025-09-01 18:37:44,412 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=54: None
2025-09-01 18:37:44,412 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=54: None
2025-09-01 18:37:44,412 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=55: None
2025-09-01 18:37:44,413 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=55: None
2025-09-01 18:37:44,413 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=58: None
2025-09-01 18:37:44,413 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=58: None
2025-09-01 18:37:44,414 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=59: None
2025-09-01 18:37:44,414 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=59: None
2025-09-01 18:37:44,415 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\Lunara Bot\src\autotrade_jobs.py", line 141, in autotrade_cycle
    user_id = config.ADMIN_USER_ID
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-01 18:38:04,891 - __main__ - INFO - HEARTBEAT: redis_ping=True promotion_retry_pending=0
2025-09-01 18:38:04,913 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
TypeError: object NoneType can't be used in 'await' expression
2025-09-01 18:38:15,322 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_application.py", line 1311, in process_update
    await coroutine
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Lunara Bot\src\main.py", line 1477, in myprofile_command
    settings = db.get_user_effective_settings(user_id)
  File "G:\Lunara Bot\src\modules\db_access.py", line 37, in wrapper
    result = func(cursor, *args, **kwargs)
  File "G:\Lunara Bot\src\modules\db_access.py", line 439, in get_user_effective_settings
    settings = config.get_active_settings(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'get_active_settings'
2025-09-01 18:38:34,029 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<_redis_pubsub_listener() running at G:\Lunara Bot\src\main.py:3265> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-09-01 18:38:42,024 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-09-01 18:38:42,038 - telegram.ext.Application - INFO - Application.stop() complete
2025-09-01 18:45:08,353 - slip_manager - INFO - Connecting to Redis at rediss://***:***@measured-whale-51756.upstash.io:6379
2025-09-01 18:45:19,688 - __main__ - INFO - Starting bot with market monitor and AI trade monitor jobs scheduled...
2025-09-01 18:45:19,690 - __main__ - INFO - Starting bot polling...
2025-09-01 18:45:20,514 - __main__ - INFO - Running post-initialization setup...
2025-09-01 18:45:20,514 - __main__ - INFO - Attempting to delete any pre-existing webhook...
2025-09-01 18:45:20,716 - __main__ - INFO - Webhook deleted successfully.
2025-09-01 18:45:20,717 - __main__ - INFO - Starting Redis pub/sub listener for real-time toggles...
2025-09-01 18:45:21,100 - __main__ - INFO - Subscribed to autotrade:notify channel for instant toggles.
2025-09-01 18:45:21,866 - telegram.ext.Application - INFO - Application started
2025-09-01 18:45:29,653 - tradebot - INFO - Running scheduled_monitoring_job...
2025-09-01 18:45:29,654 - tradebot - INFO - Admin user ID from config: 6284071528
2025-09-01 18:45:29,676 - tradebot - INFO - Autotrade status for admin user: True
2025-09-01 18:45:29,679 - src.gemini_cacher - INFO - Gemini cache miss for BTCUSDT, querying API...
2025-09-01 18:45:29,956 - tradebot - INFO - Binance client initialized successfully.
2025-09-01 18:45:30,099 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<_redis_pubsub_listener() running at G:\Lunara Bot\src\main.py:3267> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-09-01 18:45:30,951 - apscheduler.executors.default - WARNING - Run time of job "autotrade_cycle (trigger: interval[0:15:00], next run at: 2025-09-01 13:00:29 UTC)" was missed by 0:00:01.262649
2025-09-01 18:45:30,953 - apscheduler.executors.default - WARNING - Run time of job "monitor_autotrades (trigger: interval[0:01:00], next run at: 2025-09-01 12:46:29 UTC)" was missed by 0:00:01.264233
2025-09-01 18:45:31,972 - src.gemini_cacher - INFO - Gemini cache miss for ETHUSDT, querying API...
2025-09-01 18:45:33,337 - src.gemini_cacher - INFO - Gemini cache miss for BNBUSDT, querying API...
2025-09-01 18:45:35,259 - src.gemini_cacher - INFO - Gemini cache miss for SOLUSDT, querying API...
2025-09-01 18:45:36,670 - src.gemini_cacher - INFO - Gemini cache miss for ADAUSDT, querying API...
2025-09-01 18:45:38,013 - src.gemini_cacher - INFO - Gemini cache miss for XRPUSDT, querying API...
2025-09-01 18:45:39,373 - src.gemini_cacher - INFO - Gemini cache miss for DOGEUSDT, querying API...
2025-09-01 18:45:40,724 - src.gemini_cacher - INFO - Gemini cache miss for DOTUSDT, querying API...
2025-09-01 18:45:42,073 - src.gemini_cacher - INFO - Gemini cache miss for AVAXUSDT, querying API...
2025-09-01 18:45:43,440 - src.gemini_cacher - INFO - Gemini cache miss for LINKUSDT, querying API...
2025-09-01 18:45:44,772 - src.gemini_cacher - INFO - Gemini cache miss for ARBUSDT, querying API...
2025-09-01 18:45:46,118 - src.gemini_cacher - INFO - Gemini cache miss for OPUSDT, querying API...
2025-09-01 18:45:47,490 - src.gemini_cacher - INFO - Gemini cache miss for LTCUSDT, querying API...
2025-09-01 18:45:48,854 - src.gemini_cacher - INFO - Gemini cache miss for TRXUSDT, querying API...
2025-09-01 18:45:50,354 - src.gemini_cacher - INFO - Gemini cache miss for SHIBUSDT, querying API...
2025-09-01 18:45:51,142 - __main__ - INFO - HEARTBEAT: redis_ping=True promotion_retry_pending=0
2025-09-01 18:45:51,143 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
TypeError: object NoneType can't be used in 'await' expression
2025-09-01 18:45:51,690 - src.gemini_cacher - INFO - Gemini cache miss for PEPEUSDT, querying API...
2025-09-01 18:45:53,022 - src.gemini_cacher - INFO - Gemini cache miss for UNIUSDT, querying API...
2025-09-01 18:45:54,358 - src.gemini_cacher - INFO - Gemini cache miss for SUIUSDT, querying API...
2025-09-01 18:45:55,690 - src.gemini_cacher - INFO - Gemini cache miss for INJUSDT, querying API...
2025-09-01 18:45:57,023 - src.gemini_cacher - INFO - Gemini cache miss for CTKUSDT, querying API...
2025-09-01 18:45:58,371 - src.gemini_cacher - INFO - Gemini cache miss for ENAUSDT, querying API...
2025-09-01 18:46:29,696 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-01 18:46:31,665 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556374179:data':
2025-09-01 18:46:31,747 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556374179:quantity':
2025-09-01 18:46:31,840 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556374179:status':
2025-09-01 18:46:31,883 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756556374179: None
2025-09-01 18:46:31,983 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756556374179: None
2025-09-01 18:46:32,171 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376303:data':
2025-09-01 18:46:32,376 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376303:quantity':
2025-09-01 18:46:32,534 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376303:status':
2025-09-01 18:46:32,613 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756556376303: None
2025-09-01 18:46:32,619 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756556376303: None
2025-09-01 18:46:32,841 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376954:data':
2025-09-01 18:46:32,935 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376954:quantity':
2025-09-01 18:46:33,042 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376954:status':
2025-09-01 18:46:33,051 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756556376954: None
2025-09-01 18:46:33,059 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756556376954: None
2025-09-01 18:46:33,133 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557608418:data':
2025-09-01 18:46:33,222 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557608418:quantity':
2025-09-01 18:46:33,295 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557608418:status':
2025-09-01 18:46:33,297 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756557608418: None
2025-09-01 18:46:33,298 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756557608418: None
2025-09-01 18:46:33,363 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557610317:data':
2025-09-01 18:46:33,422 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557610317:quantity':
2025-09-01 18:46:33,485 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557610317:status':
2025-09-01 18:46:33,487 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=1756557610317: None
2025-09-01 18:46:33,488 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=1756557610317: None
2025-09-01 18:46:33,554 - slip_manager - ERROR - Decryption failed for slip b'trade:49:quantity':
2025-09-01 18:46:33,615 - slip_manager - ERROR - Decryption failed for slip b'trade:49:status':
2025-09-01 18:46:33,616 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=49: None
2025-09-01 18:46:33,617 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=49: None
2025-09-01 18:46:33,681 - slip_manager - ERROR - Decryption failed for slip b'trade:51:quantity':
2025-09-01 18:46:33,747 - slip_manager - ERROR - Decryption failed for slip b'trade:51:status':
2025-09-01 18:46:33,748 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=51: None
2025-09-01 18:46:33,749 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=51: None
2025-09-01 18:46:33,809 - slip_manager - ERROR - Decryption failed for slip b'trade:52:quantity':
2025-09-01 18:46:33,864 - slip_manager - ERROR - Decryption failed for slip b'trade:52:status':
2025-09-01 18:46:33,866 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=52: None
2025-09-01 18:46:33,867 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=52: None
2025-09-01 18:46:33,928 - slip_manager - ERROR - Decryption failed for slip b'trade:54:quantity':
2025-09-01 18:46:33,984 - slip_manager - ERROR - Decryption failed for slip b'trade:54:status':
2025-09-01 18:46:33,987 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=54: None
2025-09-01 18:46:33,989 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=54: None
2025-09-01 18:46:34,054 - slip_manager - ERROR - Decryption failed for slip b'trade:55:quantity':
2025-09-01 18:46:34,115 - slip_manager - ERROR - Decryption failed for slip b'trade:55:status':
2025-09-01 18:46:34,116 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=55: None
2025-09-01 18:46:34,117 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=55: None
2025-09-01 18:46:34,177 - slip_manager - ERROR - Decryption failed for slip b'trade:58:quantity':
2025-09-01 18:46:34,250 - slip_manager - ERROR - Decryption failed for slip b'trade:58:status':
2025-09-01 18:46:34,252 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=58: None
2025-09-01 18:46:34,254 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=58: None
2025-09-01 18:46:34,321 - slip_manager - ERROR - Decryption failed for slip b'trade:59:quantity':
2025-09-01 18:46:34,379 - slip_manager - ERROR - Decryption failed for slip b'trade:59:status':
2025-09-01 18:46:34,381 - src.autotrade_jobs - INFO - Processing reconstructed slip for trade_id=59: None
2025-09-01 18:46:34,382 - src.autotrade_jobs - INFO - [MANUALMONITOR] Processing reconstructed slip for trade_id=59: None
2025-09-01 18:47:13,884 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-09-01 18:47:13,904 - telegram.ext.Application - INFO - Application.stop() complete
2025-09-05 23:23:49,941 - __main__ - INFO - Starting bot with market monitor and AI trade monitor jobs scheduled...
2025-09-05 23:23:49,949 - __main__ - INFO - Starting bot polling...
2025-09-05 23:23:51,568 - __main__ - INFO - Running post-initialization setup...
2025-09-05 23:23:51,568 - __main__ - INFO - Attempting to delete any pre-existing webhook...
2025-09-05 23:23:51,776 - __main__ - INFO - Webhook deleted successfully.
2025-09-05 23:23:51,776 - __main__ - INFO - Starting Redis pub/sub listener for real-time toggles...
2025-09-05 23:23:52,400 - __main__ - INFO - Subscribed to autotrade:notify channel for instant toggles.
2025-09-05 23:23:52,521 - telegram.ext.Application - INFO - Application started
2025-09-05 23:23:59,826 - tradebot - INFO - Running scheduled_monitoring_job...
2025-09-05 23:23:59,827 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\lunara bot\src\trade.py", line 1787, in scheduled_monitoring_job
    user_id = config.ADMIN_USER_ID  # Assuming monitoring is for the admin user
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-05 23:23:59,945 - src.autotrade_jobs - INFO - Starting autotrade cycle...
2025-09-05 23:23:59,945 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-05 23:23:59,947 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_jobqueue.py", line 997, in _run
    await self.callback(context)
  File "G:\lunara bot\src\autotrade_jobs.py", line 147, in autotrade_cycle
    user_id = config.ADMIN_USER_ID
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-05 23:24:21,157 - apscheduler.executors.default - WARNING - Run time of job "heartbeat_job (trigger: interval[0:05:00], next run at: 2025-09-05 17:29:19 UTC)" was missed by 0:00:01.216926
2025-09-05 23:24:56,589 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556374179:data':
2025-09-05 23:24:56,961 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556374179:quantity':
2025-09-05 23:24:57,317 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556374179:status':
2025-09-05 23:24:57,658 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376303:data':
2025-09-05 23:24:58,018 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376303:quantity':
2025-09-05 23:24:58,376 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376303:status':
2025-09-05 23:24:58,732 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376954:data':
2025-09-05 23:24:59,076 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376954:quantity':
2025-09-05 23:24:59,469 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376954:status':
2025-09-05 23:24:59,822 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557608418:data':
2025-09-05 23:25:00,168 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557608418:quantity':
2025-09-05 23:25:00,528 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557608418:status':
2025-09-05 23:25:00,884 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557610317:data':
2025-09-05 23:25:01,247 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557610317:quantity':
2025-09-05 23:25:01,628 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557610317:status':
2025-09-05 23:25:01,996 - slip_manager - ERROR - Decryption failed for slip b'trade:49:quantity':
2025-09-05 23:25:02,350 - slip_manager - ERROR - Decryption failed for slip b'trade:49:status':
2025-09-05 23:25:02,709 - slip_manager - ERROR - Decryption failed for slip b'trade:51:quantity':
2025-09-05 23:25:03,073 - slip_manager - ERROR - Decryption failed for slip b'trade:51:status':
2025-09-05 23:25:03,428 - slip_manager - ERROR - Decryption failed for slip b'trade:52:quantity':
2025-09-05 23:25:03,784 - slip_manager - ERROR - Decryption failed for slip b'trade:52:status':
2025-09-05 23:25:04,129 - slip_manager - ERROR - Decryption failed for slip b'trade:54:quantity':
2025-09-05 23:25:04,485 - slip_manager - ERROR - Decryption failed for slip b'trade:54:status':
2025-09-05 23:25:04,866 - slip_manager - ERROR - Decryption failed for slip b'trade:55:quantity':
2025-09-05 23:25:05,295 - slip_manager - ERROR - Decryption failed for slip b'trade:55:status':
2025-09-05 23:25:05,706 - slip_manager - ERROR - Decryption failed for slip b'trade:58:quantity':
2025-09-05 23:25:06,085 - slip_manager - ERROR - Decryption failed for slip b'trade:58:status':
2025-09-05 23:25:06,465 - slip_manager - ERROR - Decryption failed for slip b'trade:59:quantity':
2025-09-05 23:25:06,845 - slip_manager - ERROR - Decryption failed for slip b'trade:59:status':
2025-09-05 23:25:06,851 - __main__ - CRITICAL - Redis pubsub listener terminated unexpectedly: Timeout should be used inside a task
Traceback (most recent call last):
  File "G:\lunara bot\src\main.py", line 3324, in _redis_pubsub_listener
    async for message in pubsub.listen():
    ...<11 lines>...
            logger.error(f"Error processing pubsub message: {e}")
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "G:\lunara bot\src\main.py", line 3318, in _redis_pubsub_listener
    async with rc.pubsub(ignore_subscribe_messages=True) as pubsub:
               ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\redis\asyncio\client.py", line 862, in __aexit__
    await self.aclose()
  File "G:\Pycharm soft\Lib\site-packages\redis\asyncio\client.py", line 876, in aclose
    await self.connection.disconnect()
  File "G:\Pycharm soft\Lib\site-packages\redis\asyncio\connection.py", line 469, in disconnect
    async with async_timeout(self.socket_connect_timeout):
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\asyncio\timeouts.py", line 90, in __aenter__
    raise RuntimeError("Timeout should be used inside a task")
RuntimeError: Timeout should be used inside a task
2025-09-05 23:25:07,259 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<_redis_pubsub_listener() running at G:\lunara bot\src\main.py:3346> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-09-05 23:25:07,276 - apscheduler.executors.default - WARNING - Run time of job "monitor_autotrades (trigger: interval[0:01:00], next run at: 2025-09-05 17:25:59 UTC)" was missed by 0:00:07.335765
2025-09-05 23:25:07,277 - apscheduler.executors.default - WARNING - Run time of job "promotion_retry_job (trigger: interval[0:00:15], next run at: 2025-09-05 17:25:19 UTC)" was missed by 0:00:02.456856
2025-09-05 23:46:49,510 - __main__ - INFO - Starting bot with market monitor and AI trade monitor jobs scheduled...
2025-09-05 23:46:49,522 - __main__ - INFO - Starting bot polling...
2025-09-05 23:46:50,552 - __main__ - INFO - Running post-initialization setup...
2025-09-05 23:46:50,552 - __main__ - INFO - Attempting to delete any pre-existing webhook...
2025-09-05 23:46:50,772 - __main__ - INFO - Webhook deleted successfully.
2025-09-05 23:46:50,772 - __main__ - INFO - Starting Redis pub/sub listener for real-time toggles...
2025-09-05 23:46:51,338 - __main__ - INFO - Subscribed to autotrade:notify channel for instant toggles.
2025-09-05 23:46:51,573 - telegram.ext.Application - INFO - Application started
2025-09-05 23:46:59,465 - tradebot - INFO - Running scheduled_monitoring_job...
2025-09-05 23:46:59,465 - tradebot - INFO - Admin user ID from config: None
2025-09-05 23:46:59,467 - tradebot - INFO - Scheduled monitoring skipped: Admin user not set.
2025-09-05 23:46:59,528 - src.autotrade_jobs - INFO - Starting autotrade cycle...
2025-09-05 23:47:00,425 - src.autotrade_jobs - INFO - Skipping autotrade cycle: Binance client unavailable.
2025-09-05 23:47:02,074 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-05 23:47:06,881 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556374179:data':
2025-09-05 23:47:07,534 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556374179:quantity':
2025-09-05 23:47:07,985 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556374179:status':
2025-09-05 23:47:08,481 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376303:data':
2025-09-05 23:47:09,113 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376303:quantity':
2025-09-05 23:47:10,247 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376303:status':
2025-09-05 23:47:12,308 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376954:data':
2025-09-05 23:47:12,819 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376954:quantity':
2025-09-05 23:47:13,233 - slip_manager - ERROR - Decryption failed for slip b'trade:1756556376954:status':
2025-09-05 23:47:13,716 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557608418:data':
2025-09-05 23:47:14,252 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557608418:quantity':
2025-09-05 23:47:14,717 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557608418:status':
2025-09-05 23:47:15,141 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557610317:data':
2025-09-05 23:47:15,556 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557610317:quantity':
2025-09-05 23:47:16,061 - slip_manager - ERROR - Decryption failed for slip b'trade:1756557610317:status':
2025-09-05 23:47:16,697 - slip_manager - ERROR - Decryption failed for slip b'trade:49:quantity':
2025-09-05 23:47:17,327 - slip_manager - ERROR - Decryption failed for slip b'trade:49:status':
2025-09-05 23:47:17,824 - slip_manager - ERROR - Decryption failed for slip b'trade:51:quantity':
2025-09-05 23:47:18,346 - slip_manager - ERROR - Decryption failed for slip b'trade:51:status':
2025-09-05 23:47:18,948 - slip_manager - ERROR - Decryption failed for slip b'trade:52:quantity':
2025-09-05 23:47:19,394 - slip_manager - ERROR - Decryption failed for slip b'trade:52:status':
2025-09-05 23:47:19,786 - slip_manager - ERROR - Decryption failed for slip b'trade:54:quantity':
2025-09-05 23:47:20,296 - slip_manager - ERROR - Decryption failed for slip b'trade:54:status':
2025-09-05 23:47:20,791 - slip_manager - ERROR - Decryption failed for slip b'trade:55:quantity':
2025-09-05 23:47:21,197 - slip_manager - ERROR - Decryption failed for slip b'trade:55:status':
2025-09-05 23:47:22,040 - slip_manager - ERROR - Decryption failed for slip b'trade:58:quantity':
2025-09-05 23:47:22,917 - slip_manager - ERROR - Decryption failed for slip b'trade:58:status':
2025-09-05 23:47:24,682 - slip_manager - ERROR - Decryption failed for slip b'trade:59:quantity':
2025-09-05 23:47:25,498 - slip_manager - ERROR - Decryption failed for slip b'trade:59:status':
2025-09-05 23:47:25,502 - apscheduler.executors.default - WARNING - Run time of job "promotion_retry_job (trigger: interval[0:00:15], next run at: 2025-09-05 17:47:34 UTC)" was missed by 0:00:06.039892
2025-09-05 23:47:25,503 - apscheduler.executors.default - WARNING - Run time of job "heartbeat_job (trigger: interval[0:05:00], next run at: 2025-09-05 17:52:19 UTC)" was missed by 0:00:05.992435
2025-09-05 23:47:29,452 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<_redis_pubsub_listener() done, defined at G:\lunara bot\src\main.py:3304> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-09-05 23:47:59,514 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-05 23:48:15,320 - tradebot - WARNING - Binance API keys not found. Trading functions will be disabled.
2025-09-05 23:48:15,321 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_application.py", line 1311, in process_update
    await coroutine
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\lunara bot\src\main.py", line 1027, in wallet_command
    balances = trade.get_all_spot_balances(config.ADMIN_USER_ID)
  File "G:\lunara bot\src\trade.py", line 367, in get_all_spot_balances
    user_client = get_user_client(user_id)
  File "G:\lunara bot\src\trade.py", line 175, in get_user_client
    if user_id == config.ADMIN_USER_ID:
                  ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'ADMIN_USER_ID'
2025-09-05 23:48:59,520 - src.autotrade_jobs - INFO - [MONITOR] Monitoring open autotrades...
2025-09-05 23:49:28,681 - __main__ - ERROR - Unhandled exception in update handler
Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "G:\Pycharm soft\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "G:\Pycharm soft\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "G:\Pycharm soft\Lib\site-packages\httpcore\_async\http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\httpcore\_async\http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\httpcore\_async\http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.READ_NUM_BYTES, timeout=timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\httpcore\_backends\anyio.py", line 32, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "G:\Pycharm soft\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\request\_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "G:\Pycharm soft\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "G:\Pycharm soft\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_application.py", line 1311, in process_update
    await coroutine
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\lunara bot\src\main.py", line 2221, in set_api_command
    return await set_api_command_primary(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\lunara bot\src\main.py", line 1871, in set_api_command_primary
    await update.message.reply_text(
        "Usage: /setapi <KEY> <SECRET>  send this in a private chat with the bot."
    )
  File "G:\Pycharm soft\Lib\site-packages\telegram\_message.py", line 1910, in reply_text
    return await self.get_bot().send_message(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<19 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_extbot.py", line 3055, in send_message
    return await super().send_message(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<21 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\_bot.py", line 1100, in send_message
    return await self._send_message(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<19 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_extbot.py", line 630, in _send_message
    result = await super()._send_message(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<21 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\_bot.py", line 810, in _send_message
    result = await self._post(
             ^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\_bot.py", line 698, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\ext\_extbot.py", line 370, in _do_post
    return await super()._do_post(
           ^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\_bot.py", line 727, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\request\_baserequest.py", line 197, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\request\_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
                    ^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "G:\Pycharm soft\Lib\site-packages\telegram\request\_httpxrequest.py", line 290, in do_request
    raise TimedOut from err
telegram.error.TimedOut: Timed out
